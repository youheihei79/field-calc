<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>（株）加古川製作所計算ツール</title>

  <!-- iOSホーム画面アイコン（最優先） -->
  <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">

  <!-- PWA -->
  <link rel="manifest" href="./manifest.webmanifest">
  <meta name="theme-color" content="#020617">

  <!-- favicon 404を止める（任意） -->
  <link rel="icon" href="data:,">

  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">（株）加古川製作所計算ツール</div>

      <div class="search">
        <input id="search" placeholder="検索（例：PCD / 丸棒 / rpm）" />
        <button class="icon-btn" id="btnFavOnly" title="お気に入りのみ">☆</button>
      </div>

      <div class="list" id="templateList"></div>
    </aside>

    <!-- Main -->
    <main class="main">
      <div class="offline" id="offlineNote"></div>

      <div style="display:flex; gap:8px; margin-bottom:10px;">
        <button class="btn" id="btnHistory">履歴</button>
        <button class="btn ghost" id="btnCopyResult" disabled>コピー</button>
        <button class="btn ghost" id="btnShare" disabled>共有</button>
        <div style="flex:1"></div>
        <button class="btn ghost" id="btnSettings">設定</button>
      </div>

      <section class="work" id="workArea">
        <div class="empty">
          <div class="empty-title">左の一覧から計算を選択</div>
          <div class="empty-sub">よく使うものは★でお気に入りにできます</div>
        </div>
      </section>
    </main>
  </div>

  <!-- History sheet -->
  <div class="sheet" id="historySheet" aria-hidden="true">
    <div class="sheet-inner">
      <div style="display:flex; gap:8px; align-items:center; margin-bottom:10px;">
        <div style="font-weight:900;">履歴</div>
        <div style="flex:1"></div>
        <button class="btn ghost" id="btnClearHistory">全削除</button>
        <button class="btn" id="btnCloseHistory">閉じる</button>
      </div>
      <div id="historyList"></div>
    </div>
  </div>

  <!-- Settings modal -->
  <div class="modal" id="settingsModal" aria-hidden="true">
    <div class="modal-inner">
      <div style="display:flex; gap:8px; align-items:center; margin-bottom:12px;">
        <div style="font-weight:900;">設定</div>
        <div style="flex:1"></div>
        <button class="btn" id="btnCloseSettings">閉じる</button>
      </div>

      <div class="field" style="margin-bottom:12px;">
        <label>小数点 桁数</label>
        <select id="decimalPlaces" style="width:100%; padding:12px; border-radius:12px; border:1px solid var(--border); background:#020617; color:var(--text);">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3" selected>3</option>
          <option value="4">4</option>
        </select>
        <div class="hint">結果の表示桁数</div>
      </div>

      <div class="field">
        <label>比重プリセット（重量計算）</label>
        <select id="densityPreset" style="width:100%; padding:12px; border-radius:12px; border:1px solid var(--border); background:#020617; color:var(--text);">
          <option value="7.85" selected>鉄：7.85</option>
          <option value="8.00">SUS：8.00</option>
          <option value="2.70">アルミ：2.70</option>
          <option value="8.90">銅：8.90</option>
        </select>
        <div class="hint">重量計算のデフォルト比重</div>
      </div>
    </div>
  </div>

  <script type="module" src="./main.js"></script>
</body>
</html>
